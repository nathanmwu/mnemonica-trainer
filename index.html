<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Mnemonica Stack Trainer</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Mnemonica Stack Trainer</h1>
        </div>

        <div class="nav-buttons">
            <button class="nav-btn active" id="learnBtn">Learn</button>
            <button class="nav-btn" id="practiceBtn">Practice</button>
            <button class="nav-btn" id="selectionBtn">Selection</button>
            <button class="nav-btn" id="statsBtn">Statistics</button>
        </div>

        <!-- Learn Mode -->
        <div id="learn" class="mode-content active">
            <div class="settings">
                <div class="setting-row">
                    <span>Show Number First</span>
                    <label class="toggle-switch">
                        <input type="checkbox" id="showNumberFirst" checked>
                        <span class="slider"></span>
                    </label>
                </div>
                <div class="setting-row">
                    <span>Random Order</span>
                    <label class="toggle-switch">
                        <input type="checkbox" id="randomOrder">
                        <span class="slider"></span>
                    </label>
                </div>
            </div>

            <div class="card-display" id="learnCard">
                <div id="learnDisplay"></div>
            </div>

            <div class="progress-bar">
                <div id="learnProgress" class="progress-fill"></div>
            </div>

            <div class="controls">
                <button class="control-btn" id="prevBtn">← Previous</button>
                <button class="control-btn" id="nextBtn">Next →</button>
            </div>
        </div>

        <!-- Practice Mode -->
        <div id="practice" class="mode-content">
            <div class="settings">
                <div class="setting-row">
                    <span>Practice Type</span>
                    <select id="practiceType" class="practice-select">
                        <option value="numberFromCard">Guess Number from Card</option>
                        <option value="cardFromNumber">Guess Card from Number</option>
                        <option value="positionFromComplement">Position from Complement</option>
                        <option value="hybrid">Hybrid (Random)</option>
                    </select>
                </div>
            </div>

            <div id="practiceStart" class="practice-start">
                <div class="start-info">
                    <h3>Ready to Practice?</h3>
                    <p>Click Start to begin your practice session with the selected cards.</p>
                </div>
                <button class="control-btn start-btn" id="startPracticeBtn">Start Practice</button>
            </div>

            <div id="practiceSession" class="hidden">
                <div class="timer" id="timer">00:00</div>

                <div class="card-display">
                    <div id="practiceQuestion"></div>
                </div>

                <div class="progress-bar">
                    <div id="practiceProgress" class="progress-fill"></div>
                </div>

                <div id="feedback" class="feedback"></div>

                <div id="numberInput" class="hidden">
                    <input type="number" id="numberTextInput" class="number-text-input" placeholder="Enter position (1-52)" min="1" max="52">
                </div>

                <div id="cardInput" class="hidden">
                    <div style="margin-bottom: 10px;">
                        <div class="input-grid" style="grid-template-columns: repeat(5, 1fr);">
                            <button class="input-btn rank-btn" data-rank="A">A</button>
                            <button class="input-btn rank-btn" data-rank="2">2</button>
                            <button class="input-btn rank-btn" data-rank="3">3</button>
                            <button class="input-btn rank-btn" data-rank="4">4</button>
                            <button class="input-btn rank-btn" data-rank="5">5</button>
                            <button class="input-btn rank-btn" data-rank="6">6</button>
                            <button class="input-btn rank-btn" data-rank="7">7</button>
                            <button class="input-btn rank-btn" data-rank="8">8</button>
                            <button class="input-btn rank-btn" data-rank="9">9</button>
                            <button class="input-btn rank-btn" data-rank="10">10</button>
                            <div></div>
                            <button class="input-btn rank-btn" data-rank="J">J</button>
                            <button class="input-btn rank-btn" data-rank="Q">Q</button>
                            <button class="input-btn rank-btn" data-rank="K">K</button>
                            <div></div>
                        </div>
                    </div>
                    <div class="input-grid">
                        <button class="input-btn suit-btn red" data-suit="♥">♥</button>
                        <button class="input-btn suit-btn red" data-suit="♦">♦</button>
                        <button class="input-btn suit-btn black" data-suit="♣">♣</button>
                        <button class="input-btn suit-btn black" data-suit="♠">♠</button>
                    </div>
                    <div style="text-align: center; margin-top: 10px; height: 60px; display: flex; align-items: center; justify-content: center;">
                        <span style="font-size: 36px; font-weight: bold;" id="cardDisplay"></span>
                    </div>
                    <div style="text-align: center; margin-top: 15px;">
                        <button class="control-btn" id="submitCardBtn">Submit</button>
                    </div>
                </div>

                <div class="controls" style="margin-top: 30px;">
                    <button class="control-btn" id="showAnswerBtn">Show Answer</button>
                    <button class="control-btn" id="restartBtn">Restart</button>
                </div>
            </div>
        </div>

        <!-- Score Summary Modal -->
        <div id="scoreSummary" class="score-modal hidden">
            <div class="score-content">
                <div class="score-header">
                    <h2>Practice Session Complete!</h2>
                    <div class="score-stats">
                        <div class="score-main">
                            <span id="scoreText">0/0</span>
                            <span id="scorePercent">(0%)</span>
                        </div>
                        <div class="score-time">
                            Time: <span id="sessionTime">00:00</span>
                        </div>
                        <div class="score-time">
                            Average Recall: <span id="avgResponseTime">0.0s</span>
                        </div>
                    </div>
                </div>
                
                <div id="incorrectAnswers" class="incorrect-section">
                    <h3>Incorrect Answers:</h3>
                    <div id="incorrectList" class="incorrect-list">
                        <!-- Incorrect answers will be populated here -->
                    </div>
                </div>
                
                <div id="slowestAnswers" class="timing-section" style="display: none;">
                    <h3>Slowest Cards:</h3>
                    <div id="slowestList" class="slowest-list">
                        <!-- Slowest answers will be populated here -->
                    </div>
                </div>
                
                <div class="score-actions">
                    <button class="control-btn" id="practiceAgainBtn">Practice Again</button>
                    <button class="control-btn" id="closeScoreBtn">Close</button>
                </div>
            </div>
        </div>

        <!-- Selection Mode -->
        <div id="selection" class="mode-content">
            <div class="selection-info">
                <span id="selectionCount">52 of 52 cards selected</span>
            </div>
            
            <div class="selection-controls">
                <button class="control-btn" id="selectAllBtn">Select All</button>
                <button class="control-btn" id="selectNoneBtn">Select None</button>
            </div>
            
            <div class="selection-grid" id="selectionGrid">
                <!-- Cards will be populated by JavaScript -->
            </div>
        </div>

        <!-- Statistics -->
        <div id="stats" class="mode-content">
            <div class="stats-container">
                <div class="stat-row">
                    <span class="stat-label">Sessions Completed</span>
                    <span class="stat-value" id="sessionsCompleted">0</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Best Time</span>
                    <span class="stat-value" id="bestTime">N/A</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Total Time</span>
                    <span class="stat-value" id="totalTime">00:00</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Accuracy</span>
                    <span class="stat-value" id="accuracy">0%</span>
                </div>
            </div>
            <div class="controls" style="margin-top: 20px;">
                <button class="control-btn" id="resetStats">Reset Statistics</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
